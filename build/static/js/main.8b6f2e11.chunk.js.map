{"version":3,"sources":["componets/Searchbar/SearchForm.module.css","componets/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","componets/Modal/Modal.module.css","componets/Searchbar/Searchbar.module.css","componets/ImageGallery/ImageGallery.module.css","componets/Button/Button.module.css","componets/Loader/Loader.module.css","componets/Container/Container.module.css","componets/Searchbar/Searchbar.jsx","componets/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","service/imageApi/imageAPI.jsx","componets/ImageErrorView/error.jpg","componets/ImageErrorView/ImageErrorView.jsx","componets/Button/Button.jsx","componets/Loader/Loader.jsx","componets/Loader/pending.png","componets/Modal/Modal.jsx","componets/ImageGallery/ImageGallery.jsx","componets/Container/Container.jsx","componets/App/App.js","index.js"],"names":["module","exports","Searchbar","state","imageName","handleNameChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","prevProps","prevState","console","log","this","localStorage","setItem","JSON","stringify","className","s","f","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","onClick","src","alt","largeImageURL","ImageGalleryItemImage","style","minHeight","api","fetchImage","nextImage","nextPage","API","fetch","then","response","json","ImageErrorView","message","role","errorImage","width","Button","children","spinner","display","alignItems","marginBottom","fontSize","Loader","images","tags","webformatURL","Spinner","size","iconSpin","modalRoot","document","querySelector","Modal","handleKeyDown","code","togleModal","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","ImageGallery","showModal","status","scroll","scrollTo","top","documentElement","scrollHeight","behavior","handleIncrement","length","incrementPage","image","prevImage","prevPage","page","imageApi","data","hits","Promise","reject","Error","catch","finally","map","PureComponent","defaultProps","Container","App","handleFormSubmit","resetPage","sessionStorage","getItem","parsedImages","parse","parsedImage","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8b6f2e11.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"SearchForm_SearchForm__CiDEk\",\"SearchFormButton\":\"SearchForm_SearchFormButton__3y37S\",\"SearchFormButtonLabel\":\"SearchForm_SearchFormButtonLabel__1i0k_\",\"SearchFormInput\":\"SearchForm_SearchFormInput__1EJ73\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3bYHW\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__2ArVQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__BgfCI\",\"Modal\":\"Modal_Modal__2c1iH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3x34e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__383V7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__EZ4vs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner\":\"Loader_Spinner__3MCSS\",\"iconSpin\":\"Loader_iconSpin__24LYe\",\"icon-spin\":\"Loader_icon-spin__3wDZY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__rBJVy\"};","import s from './Searchbar.module.css';\nimport f from './SearchForm.module.css';\nimport React, { Component } from 'react';\nimport { toast } from 'react-toastify';\n\nclass Searchbar extends Component {\n  \n     state = {\n         imageName: '',\n     }\n\n    handleNameChange = e => {\n            this.setState({ imageName: e.currentTarget.value.toLowerCase() });\n        };\n\n    handleSubmit = e => {\n        e.preventDefault();\n\n        if (this.state.imageName.trim() === '') {\n            toast.error('Введите имя картинки');\n            return;\n        }\n\n        this.props.onSubmit(this.state.imageName);\n        this.setState({ imageName: ' ' });\n    };\n    \n    componentDidUpdate(prevProps, prevState) {\n        console.log('App componentDidUpdate');\n\n        if (this.state.imageName !== prevState.imageName) {\n        // console.log('Oбновилось поле imageName, записываю в хранилище');\n\n        localStorage.setItem('imageName', JSON.stringify(this.state.imageName));\n        }\n   ;\n    };\n  \n    \n    render() {\n       const { imageName } = this.state;\n       const { handleSubmit, handleNameChange } = this;\n        return (\n      \n            <header className={s.Searchbar}>\n                <form className={f.SearchForm}\n                    onSubmit={handleSubmit}\n                >\n                    <button type=\"submit\" className={f.SearchFormButton}>\n                        <span className={f.SearchFormButtonLabel}>Search</span>\n                    </button>\n\n                    <input\n                        className={f.SearchFormInput}\n                        type=\"text\"\n                        autoComplete=\"off\"\n                       autoFocus\n                        value={imageName}\n                        placeholder=\"Search images and photos\"\n                       onChange={handleNameChange}\n                    />\n                </form>\n            </header>\n            \n        )\n    }\n}\n\nexport default Searchbar;\n\n","import React from 'react';\nimport s from './ImageGalleryItem.module.css';\n\n\nconst ImageGalleryItem=({ onClick,src, alt,largeImageURL })=> \n                <li  className={s.ImageGalleryItem} onClick={()=>onClick(largeImageURL)}>\n                    <img src={src}  alt={alt} className={s.ImageGalleryItemImage} style={{ minHeight: 280}} />\n                </li>\n;\n  \nexport default ImageGalleryItem;","function fetchImage({ nextImage,nextPage}) {\n    \n    const  KEY= '19267530-a7778ead7c20bf1fd9d6edf89';\n    const API = `https://pixabay.com/api/?q=${nextImage}&page=${nextPage}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n    \n    return fetch(API)\n                .then(response => response.json())\n};\n\nconst api = {\n    fetchImage,\n};\n\nexport default api;\n","export default __webpack_public_path__ + \"static/media/error.1b72fb3d.jpg\";","import errorImage from './error.jpg';\n\nexport default function ImageErrorView({ message }) {\n  return (\n    <div role=\"alert\">\n      <img src={errorImage} width=\"240\" alt=\"sadcat\" />\n      <p>{message}</p>\n    </div>\n  );\n}","import React from 'react';\nimport s from './Button.module.css';\n\nconst Button = ({onSubmit,children}) =>\n<button type=\"button\" className={s.Button} onClick={onSubmit} >{children}</button>;\n\nexport default Button;","\nimport { ImSpinner } from 'react-icons/im';\nimport pendingImage from './pending.png';\nimport f from './Loader.module.css';\n  \nconst s = {\n    spinner: {\n    display: 'flex',\n    alignItems: 'center',\n    marginBottom: 10,\n    fontSize: 24,\n  },\n};\n\nconst Loader = ({ imageName }) => {\n    const images = {\n        tags: imageName,\n        webformatURL: pendingImage,\n    };\n\n    return (\n        \n    <div role=\"alert\">\n      <div style={s.Spinner}>\n        <ImSpinner size=\"32\" className={f.iconSpin} />\n        Загружаем...\n      </div>\n        <img src={images.webformatURL} alt={images.tags}/>\n    </div>\n\n    )\n}\n\nexport default Loader;","export default \"data:image/png;base64,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\"","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n    state = {\n        largeImageURL: '',\n    }\n    componentDidMount() {\n        console.log(\"Modal componentDidMount\");\n        window.addEventListener('keydown', this.handleKeyDown); \n    }\n    componentWillUnmount() {\n        console.log(\"Modal componentWillUnmount \");\n        window.removeEventListener('keydown', this.handleKeyDown); \n    }\n\n    handleKeyDown = e => {\n        if (e.code === 'Escape') {\n                console.log('Close modal');\n                this.props.togleModal();\n            } \n    }\n\n    handleBackdropClick = e => {\n        if (e.currentTarget === e.target) {\n            this.props.togleModal();\n      }  \n    }\n\n    render() {\n        \n        return createPortal(\n            <div className={s.Overlay} onClick={this.handleBackdropClick}>\n                <div className={s.Modal}> <img src={this.props.largeImageURL} alt='' /></div>\n            </div>,\n            modalRoot\n        );\n    }\n}\n\nexport default Modal;","import React, { PureComponent } from 'react';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport s from './ImageGallery.module.css';\nimport imageApi from '../../service/imageApi';\nimport ImageErrorView from '../ImageErrorView';\nimport Button from '../Button';\nimport Loader from '../Loader';\nimport Modal from '../Modal';\nimport { toast } from 'react-toastify';\n\n\nclass ImageGallery extends PureComponent {\n     static defaultProps = {\n     //\n  }\n    \n    state = {\n        showModal:false,\n        largeImageURL: null,\n        images: [],\n        error: null,\n        status: 'idle',\n    };\n   \n    // componentDidMount() {\n      \n    //     console.log('App componentDidMount');\n    //     const images = sessionStorage.getItem(\"images\");\n    //     const parsedImages = JSON.parse(images);\n\n    //   if (parsedImages) {\n    //         this.setState({ images: parsedImages });\n    //   }\n    // };\n\n    // componentWillUnmount() {\n    //   this.setState({ status: 'idle' });\n    //   localStorage.clear();\n    // }\n\n    \n\n    componentDidUpdate(prevProps, prevState) {\n      \n        const prevImage = prevProps.imageName;\n        const nextImage = this.props.imageName;\n        const prevPage = prevProps.page;\n        const nextPage = this.props.page;\n\n       \n    \n\n        if (nextPage !== prevPage || nextImage !== prevImage )  {\n\n            \n\n            this.setState({ status: 'pending' });\n            \n        imageApi.fetchImage({ nextImage, nextPage })\n            .then(data => {\n\n                if (data.hits.length !== 0) {\n                    if (nextImage !== prevImage) {\n                        return (\n                            this.setState({ images: [...data.hits] }),\n                            this.setState({ status: 'resolved' })\n                        )\n                    };\n\n                    if (nextImage === prevImage ) {\n                        return (\n                            this.setState(({ images }) => ({ images: [...images, ...data.hits] })),\n                            this.setState({ status: 'resolved' }))\n                    };\n                   \n                    return this.setState({ status: 'resolved' });\n                     \n                }   \n                \n                return Promise.reject(\n                        new Error(`Нет картинки с имененeм ${nextImage}`),); \n                \n            })\n            \n            .catch(error => this.setState({ error, status: 'rejected' }))\n            .finally(this.scroll)}\n    };\n\n    scroll = () => {\n        window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n    \n    togleModal = largeImageURL => {\n        this.setState(({ showModal }) => ({\n            showModal: !showModal\n        }));\n        this.setState(({ largeImageURL }));\n    };\n    \n    handleIncrement = () => {\n       \n        if (this.state.images.length > 0) {\n            this.props.incrementPage(this.state.image);\n            \n        return;\n        };\n        return toast.error(`Enter a new name image or click Back...`); \n    }; \n\n        render() {\n            const {error, status , images, largeImageURL, showModal} = this.state;\n            const {togleModal} = this;\n\n            if (status === 'idle') {\n                return <div>Введите название картинки</div>\n            };\n\n            if (status === 'resolved' || status === 'pending') {\n                return < >\n                \n                    <ul className={s.ImageGallery}>\n                        {images.map(({ largeImageURL, tags, webformatURL  }) =>\n                        (<ImageGalleryItem key={largeImageURL} images={images} onClick={this.togleModal} src={webformatURL} alt={ tags} largeImageURL={largeImageURL} />\n                        ))\n                        }\n                        \n                    </ul>\n                     {showModal && <Modal togleModal={togleModal} largeImageURL={largeImageURL}/> }\n                  {status === 'pending'?<Loader/>: <Button onSubmit={this.handleIncrement}>Search more...</Button>}\n                    </>\n            };\n\n            if (status === 'rejected') {\n                return <ImageErrorView message={error.message} />\n            };\n        }\n    \n    }\n\nexport default ImageGallery;","import React from 'react';\nimport s from './Container.module.css';\n\nconst Container = ({ children }) => <div className={s.Container}>{children}</div>;\n\nexport default Container;","import { Component } from 'react';\nimport './App.css';\nimport Searchbar from '../Searchbar';\nimport ImageGallery from '../ImageGallery';\nimport Container from '../Container';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nclass App extends Component {\n\n    static defaultProps = {\n      // \n    }\n    static propTypes = {\n      //\n    }\n\n  state = {\n      images:null,\n      page: 1,\n      imageName: null,\n    };\n\n  \n  componentDidMount() {\n        console.log('App componentDidMount');\n        const images = sessionStorage.getItem(\"images\");\n        const parsedImages = JSON.parse(images);\n\n        if (parsedImages) {\n          console.log('App componentDidMount images');\n                this.setState({ images:parsedImages});\n          }\n      \n        //     const page = sessionStorage.getItem(\"page\");\n        //     const parsedPage = JSON.parse(page);\n        \n        // if (parsedPage) {\n        //   console.log('App componentDidMount page');\n        //         this.setState({ page: parsedPage });\n        //   }\n      \n            const image= sessionStorage.getItem(\"imageName\");\n        const parsedImage = JSON.parse(image);\n        \n        if (parsedImage) {\n          console.log('App componentDidMount imageName');\n            this.setState({ imageName: parsedImage });\n          }\n  };\n  \n  componentDidUpdate() {\n            sessionStorage.setItem('imageName', JSON.stringify(this.state.imageName));\n            sessionStorage.setItem('page', JSON.stringify(this.state.page));\n            sessionStorage.setItem('images', JSON.stringify(this.state.images));\n    }\n  \n    handleFormSubmit = imageName => {\n      this.setState({ imageName });\n      this.resetPage();\n    };\n  \n    incrementPage =()=> {\n      this.setState(({ page }) =>\n        ({ page: page + 1 }));\n    };\n\n    resetPage = () => {\n      this.setState({ page: 1 })\n    };\n\n    render() {\n    \n      const { imageName, page } = this.state;\n      const { images } = this.state;\n      \n      return (\n        <Container>\n          <Searchbar onSubmit={this.handleFormSubmit}></Searchbar>\n          <ImageGallery imageName={imageName} scroll={this.scroll} page={page}  images={images} incrementPage={this.incrementPage} />\n          <ToastContainer autoClose={3000} /> \n        </Container>\n      )\n  }\n\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './componets/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n    <div></div>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}